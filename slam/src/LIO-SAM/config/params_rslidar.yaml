/**:
  ros__parameters:

    # Topics
    pointCloudTopic: "/rslidar_Pointcloud2"         # 真实的
    imuTopic: "/imu"                        # 真实的
    odomTopic: "/odom"                    # IMU pre-preintegration odometry, same frequency as IMU
    gpsTopic: "/odometry/gpsz"                    # GPS odometry topic from navsat_transform_node

    # Frames
    lidarFrame: "livox_frame" # 真实的
    baselinkFrame: "base_link"
    odometryFrame: "odom" # 纯imu与激光融合里程计的frame
    mapFrame: "map"

    # GPS Settings
    useImuHeadingInitialization: false          # if using GPS data, set to "true"
    useGpsElevation: false                       # if GPS elevation is bad, set to "false"
    gpsCovThreshold: 2.0                        # m^2, threshold for using GPS data (室外GPS协方差通常10-20)
    poseCovThreshold: 25.0                       # m^2, threshold for using GPS data

    # Export settings
    savePCD: true                               # https://github.com/TixiaoShan/LIO-SAM/issues/3
    savePCDDirectory: "/workspace/Car_jetson/slam/src/pcd_global/test/"         # in your home folder, starts and ends with "/". Warning: the code deletes "LOAM" folder then recreates it. See "mapOptimization" for implementation

    # Sensor Settings
    sensor: livox                               # lidar sensor type, either 'velodyne', 'ouster' or 'livox'
    N_SCAN: 32                                   # number of lidar channels (i.e., Velodyne/Ouster: 16, 32, 64, 128, Livox Horizon: 6)
    Horizon_SCAN: 10000                            # lidar horizontal resolution (Velodyne:1800, Ouster:512,1024,2048, Livox Horizon: 4000)
    downsampleRate: 1                            # default: 1. Downsample your data if too many
    # points. i.e., 16 = 64 / 4, 16 = 16 / 1
    lidarMinRange: 1.0                           # default: 1.0, minimum lidar range to be used
    lidarMaxRange: 150.0                        # default: 1000.0, maximum lidar range to be used

    # IMU Settings
    # imuAccNoise: 3.9939570888238808e-03
    # imuGyrNoise: 1.5636343949698187e-03
    # imuAccBiasN: 6.4356659353532566e-05
    # imuGyrBiasN: 3.5640318696367613e-05

    imuAccNoise: 1.0909715156015328e-02   # acc_n (avg-axis)
    imuGyrNoise: 8.0226069504443656e-04   # gyr_n (avg-axis)
    imuAccBiasN: 4.0347767978459928e-04   # acc_w (avg-axis)
    imuGyrBiasN: 4.4153147263889589e-05   # gyr_w (avg-axis)


    imuGravity: 9.80511
    imuRPYWeight: 0.07

    extrinsicTrans:  [10.0, 0.6, 0.04] # imu与mid360激光雷达之间的坐标变换。用于将雷达与imu数据进行转化，liosam内部计算odom值，计算的odom值会发布为odom->base_link的变换
    
    extrinsicRot:    [1.0,  0.0,  0.0,
                       0.0,  1.0,  0.0,
                       0.0,  0.0, 1.0 ]                  
    
    extrinsicRPY: [ 1.0,  0.0,  0.0,
                  0.0,  1.0,  0.0,
                  0.0,  0.0,  1.0 ] # 四元数旋转矩阵。用于将四元数数据，从imu坐标转为目标坐标系

    # LOAM feature threshold
    # edgeThreshold: 1.0
    # surfThreshold: 0.1
    dgeThreshold: 0.5
    surfThreshold: 0.05
    edgeFeatureMinValidNum: 10
    surfFeatureMinValidNum: 100

    # voxel filter paprams
    odometrySurfLeafSize: 0.2                     # default: 0.4 - outdoor, 0.2 - indoor
    mappingCornerLeafSize: 0.1                    # default: 0.2 - outdoor, 0.1 - indoor
    mappingSurfLeafSize: 0.2                      # default: 0.4 - outdoor, 0.2 - indoor

    # robot motion constraint (in case you are using a 2D robot)
    z_tollerance: 1000.0                          # meters
    rotation_tollerance: 1000.0                   # radians

    # CPU Params
    numberOfCores: 4                              # number of cores for mapping optimization
    mappingProcessInterval: 0.05                  # seconds, regulate mapping frequency

    # Surrounding map
    surroundingkeyframeAddingDistThreshold: 1.0   # meters, regulate keyframe adding threshold
    surroundingkeyframeAddingAngleThreshold: 0.2  # radians, regulate keyframe adding threshold
    surroundingKeyframeDensity: 2.0               # meters, downsample surrounding keyframe poses   
    surroundingKeyframeSearchRadius: 50.0         # meters, within n meters scan-to-map optimization
    # (when loop closure disabled)

    # Loop closure
    loopClosureEnableFlag: true
    loopClosureFrequency: 10.0                     # Hz, regulate loop closure constraint add frequency
    surroundingKeyframeSize: 50                   # submap size (when loop closure enabled)
    historyKeyframeSearchRadius: 15.0             # meters, key frame that is within n meters from
    # current pose will be considerd for loop closure
    historyKeyframeSearchTimeDiff: 30.0           # seconds, key frame that is n seconds older will be
    # considered for loop closure
    historyKeyframeSearchNum: 25                  # number of hostory key frames will be fused into a
    # submap for loop closure
    historyKeyframeFitnessScore: 0.5              # icp threshold, the smaller the better alignment

    # Visualization
    globalMapVisualizationSearchRadius: 1000.0    # meters, global map visualization radius
    globalMapVisualizationPoseDensity: 10.0       # meters, global map visualization keyframe density
    globalMapVisualizationLeafSize: 1.0           # meters, global map visualization cloud density

# GPS转换节点配置 (navsat_transform_node)
navsat_transform:
  ros__parameters:
    # 频率设置
    frequency: 30.0

    # 延迟设置（秒）- 等待系统稳定
    delay: 5.0

    # 磁偏角（成都地区约-2度，转换为弧度）
    magnetic_declination_radians: -0.0349

    # 航向偏移
    yaw_offset: 0.0

    # 是否为零高度（2D机器人设为true，3D设为false）
    zero_altitude: false

    # 是否广播UTM变换
    broadcast_utm_transform: false

    # 是否广播笛卡尔变换
    broadcast_utm_transform_as_parent_frame: false

    # 是否发布过滤后的GPS
    publish_filtered_gps: true

    # 是否使用里程计的航向
    use_odometry_yaw: true

    # 是否等待datum设置（false表示使用第一个GPS点作为原点）
    wait_for_datum: true
    datum: [30.76756700, 103.98388483, 0.0]
