<?xml version="1.0"?>
<root main_tree_to_execute="MainTree">
    <!-- ////////// -->
    <BehaviorTree ID="DoNavTree">
        <Action ID="Nav" mode=""/>
    </BehaviorTree>
    <!-- ////////// -->
    <BehaviorTree ID="DoSlamTree">
        <Action ID="LIOSAM" mode=""/>
    </BehaviorTree>
    <!-- ////////// -->
    <BehaviorTree ID="MainTree">
        <Repeat num_cycles="-1">
            <Fallback>
                <Sequence>
                    <Condition ID="IsSlamMode" mode=""/>
                    <SubTree ID="DoSlamTree" __shared_blackboard="false" mode=""/>
                </Sequence>
                <Action ID="Idle" mode=""/>
                <Sequence>
                    <Condition ID="IsNavMode" mode=""/>
                    <SubTree ID="DoNavTree" __shared_blackboard="false" mode=""/>
                </Sequence>
            </Fallback>
        </Repeat>
    </BehaviorTree>
    <!-- ////////// -->
    <TreeNodesModel>
        <SubTree ID="DoNavTree">
            <input_port default="false" name="__shared_blackboard">If false (default), the Subtree has an isolated blackboard and needs port remapping</input_port>
            <output_port name="mode"/>
        </SubTree>
        <SubTree ID="DoSlamTree">
            <input_port default="false" name="__shared_blackboard">If false (default), the Subtree has an isolated blackboard and needs port remapping</input_port>
            <output_port name="mode"/>
        </SubTree>
        <Action ID="Idle">
            <output_port name="mode"/>
        </Action>
        <Condition ID="IsNavMode">
            <input_port name="mode"/>
        </Condition>
        <Condition ID="IsSlamMode">
            <input_port name="mode"/>
        </Condition>
        <Action ID="LIOSAM">
            <output_port name="mode"/>
        </Action>
        <Action ID="Nav">
            <output_port name="mode"/>
        </Action>
    </TreeNodesModel>
    <!-- ////////// -->
</root>
